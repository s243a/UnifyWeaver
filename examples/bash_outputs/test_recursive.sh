#!/bin/bash
# Generated by UnifyWeaver test suite
# License: MIT OR Apache-2.0
# 
# This is an example output. When you use UnifyWeaver on your own code,
# your output is yours to license as you choose.
#
# Test script for recursive predicates

# Get the directory where this script is located
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Source all files - ORDER MATTERS: dependencies first
source "$SCRIPT_DIR/parent.sh"
source "$SCRIPT_DIR/sibling.sh"      # Must be before related.sh
source "$SCRIPT_DIR/grandparent.sh"  # Also useful to have available
source "$SCRIPT_DIR/ancestor.sh"
source "$SCRIPT_DIR/descendant.sh"
source "$SCRIPT_DIR/related.sh"      # Depends on sibling
source "$SCRIPT_DIR/reachable.sh"

echo "=== Testing ancestor (transitive closure) ==="
echo "All ancestors of charlie:"
ancestor_all charlie

echo ""
echo "Is alice an ancestor of eve?"
ancestor_check alice eve && echo "Yes" || echo "No"

echo ""
echo "Is bob an ancestor of frank?"
ancestor_check bob frank && echo "Yes" || echo "No"

echo ""
echo "=== Testing descendant ==="
echo "All descendants of alice:"
descendant_all alice

echo ""
echo "All descendants of diana (should show eve, emily, frank):"
descendant_all diana

echo ""
echo "All descendants of charlie (should show diana, eve, emily, frank):"
descendant_all charlie

echo ""
echo "=== Testing reachable ==="
echo "All nodes reachable from alice (first 10):"
reachable_all alice #| head -10

echo ""
echo "All nodes reachable from eve (first 10):"
reachable_all eve #| head -10
