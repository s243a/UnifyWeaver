# React HTTP CLI

A React/TypeScript frontend for the UnifyWeaver HTTP CLI server, providing comparable functionality to the Vue version.

## Features

- **Browse** - Navigate directories with root selector (Sandbox/Project/Home), download files
- **Upload** - Upload files using File System Access API (better Android support) or standard file input
- **Cat** - View file contents with back navigation
- **Shell** - Interactive WebSocket terminal with ANSI code stripping

## Setup

```bash
# Install dependencies
npm install

# Start development server
npm run dev
```

Then open http://localhost:5174

## Configuration

Edit `src/App.tsx` and update `API_BASE` to point to your HTTP CLI server:

```typescript
const API_BASE = 'https://localhost:3001'
```

## Usage

1. Start the HTTP CLI server with HTTPS:
   ```bash
   cd ../http-cli-server/generated
   AUTH_REQUIRED=true npx ts-node server.ts --cert cert.pem --key key.pem
   ```

2. Start the React app:
   ```bash
   npm run dev
   ```

3. Accept the self-signed certificate by visiting https://localhost:3001 first

4. Login with default credentials: `shell@local` / `shell`

## Tabs

| Tab | Description | Required Role |
|-----|-------------|---------------|
| Browse | File browser with root selector and navigation | user |
| Upload | Upload files (File System Access API + fallback) | admin, shell |
| Cat | View file contents with back button | user |
| Shell | Interactive WebSocket terminal | shell |

## Root Selector

The root selector (Sandbox/Project/Home) controls which directory tree is accessible:
- **Sandbox** - Isolated sandbox directory (default)
- **Project** - UnifyWeaver project root
- **Home** - User's home directory

## Comparison to Vue Version

This React app provides the same core functionality as the Vue version generated by UnifyWeaver:

| Feature | Vue | React |
|---------|-----|-------|
| Browse with root selector | Yes | Yes |
| File upload (File System Access API) | Yes | Yes |
| File download | Yes | Yes |
| Cat with back navigation | Yes | Yes |
| WebSocket shell | Yes | Yes |
| HTTPS support | Yes | Yes |
| ANSI code handling | Rendered | Stripped |

The main difference is that the Vue app renders ANSI escape codes for colored terminal output, while the React app strips them for cleaner plain-text display.
